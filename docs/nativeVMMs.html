<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="article.css">
    <!-- TITLE-WILL-BE-HERE-PLEASE -->
    <title>VVMs in OpenBSD</title>
    <meta name="description" content="Using some notes given by 'The OpenBSD Guy'">
    <!--   SECURITY -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data:;">
    <meta name="X-Content-Type-Options" content="nosniff">
    <meta name="X-Frame-Options" content="DENY">
    <meta name="Referrer-Policy" content="no-referrer">
    <meta name="Strict-Transport-Security" content="max-age=31536000; includeSubDomains">
  </head>

  <body>
    <!-- TITLE -->
    <header>

    <h1 class="title1">I feel OpenBSD have much to offer</h1>
    </header>

    <div class="textbox">
      <!--       BODY -->
      <p>Reading more than experimenting, here I go to test some knowledge shared in the Internet, while <a href="./theBSDguy.html">this</a> person is the base inspiration of this post. I really like his style, while I have no implications with his voice. (I have some implications with some other users that share good information about OpenBSD). Anyway, lets dive into this Virtualization technology, that is already included in OpenBSD, which is fast enought to do what I wish to, which is only running isolated applications in a dedicated enviroment, without the need to buy new hardware, while that choice is for later days. Right now, this will be tested in a Laptop that have OpenBSD, while I try to follow the recommendations that this YouTuber share with everyone.</p>
      <p>Note: The answer of <a href="./communityMurder.html">AI</a> had some errors, which demonstrate how much AI cannot help, while it helps when is describing the application or process, even if OpenBSD documentation don't have the best examples, I invite the community to share more examples. I don't care about graphics, I care about defensive security, since the offensive is the criminal one, at least, when is not asked to perform those attacks. For example, I read about some Apache2 world wide attack. Is amazing.. I like so much the Apache features, while I need to stand with Nginx, for now. I think that Perl have some problems, and Apache have some Perl modules that by logic, create problems, like the CGI and others, which is technology that is used by many users and companies around the world.</p>
      <p>Anyway, I guess everything is possible, while we always need to make a choice, at least we have time to learn more about all, and make some choice.</p>
      <p>So, <code>vmctl</code> is a tool to control the virtual-machines.</p>
      <p>And before we start to play with them, we need to ensure that everything is ready</p>
      <code>doas fw_update</code><br>
      <code>doas rcctl enable vmd</code><br> 
      <code>doas rcctl start vmd</code>
      <p>Next, we need to add <code>net.inet.ip_forwarding=1</code> to <code>/etc/sysctl.conf</code></p>
      <p>Then, we need to "copy and paste" the example using in OpenBSD documentation(networking) in <code>vmm</code>, into <code>/etc/pf.conf</code></p>
      <p>After that, we should reload the Firewall rules to apply them: <code>doas pfctl -f /etc/pf.conf</code>, so our vms can access internet.</p>
      <p>Like this guy did, I follow his suggestion even if is not the best for that I wish, is not the worst indeed. <code>mkdir ~/vmms && cd vmms</code></p>
      <p>Now, we need to create the Hard drive of this virtual-machine, but <b>AI</b> suggestion was to create the total space in a file, while the author of this tutorials that you can find in his YouTube channel, let us create the file without expending the limit-size of that file-disk. So we do </p>
      <code>doas vmctl create -s (size) nameofDisk.qcow2</code><br>
      <p>As you can see using <code>ls -lh</code>, the file that have for example 50GB is wasting only 250kb</p>
      <p>Before we continue is good to remember the Obvious: we need to download the linux distribution or bsd if we wish.</p>
      <p><code>qutebrowser distrowatch.com</code> while we want the servers, not the GUIs distros. Debian is good enought.</p>
      <p>With that in place lets start the <code>vm</code> and follow the tricks that this OpenBSD user share.</p>
      <code>doas vmctl start -c -m 2G -L -i 1 -r $PATH/to/iso/file.iso -d $PATH/to/disk-file.qcow2 Debian13</code>
      <p>The Debian installation process starts, while if you press <code>Enter-key</code>, you will blow it. This is a concern, I may need to change this to FreeBSD or OpenBSD it self, but is quiet nice the technical <b>hack</b> that he use, to continue the installation. Don't press enter use <code>TAB</code> and enter the code: <code>console=ttyS0,9600n8 </code>, then press <code>Enter-key</code> and you will get another error, and after that one, press <code>Space-key</code> to continue the installation.</p>
      <p>This expert approach is <a href="./awesome_story.html">awesome</a> but hopefully I don't need this approach when installing distros that don't use GUI by default, it will work with OpenBSD or FreeBSD, without doing this <b>cool</b> hack all the time I need to create a dedicated-vm.</p>
      <p>After installation is finish the start the new <code>vm</code>.</p>
      <p>In the main host, doing <code>ifconfig</code> gives the IP of the new <code>vm</code>. If we install <code>SSH-SERVER</code> we can connect to it and start preparing our vms.</p>
      <p>Now we can think: How much hard-disk-space <code>Nginx</code> needs to work propertly?</p>
      <p>How much Memory?</p>
      <p>I guess for testing can be few, but for realtime, is much more, while that space, can be managed in the main host.</p>

    </div>


    <footer>
      <a href="index.html">
        Home
      </a>
    </footer>
    
  </body>
</html>
